# 다형성 (Polymorphism)
# 다형성은 같은 인터페이스를 가진 다른 객체들이 각각 다른 방식으로 동작하는 것이다.

# ============================================================================
# 메서드 오버라이딩을 통한 다형성
# ============================================================================

class Animal:
    def speak(self):
        #print("Animal makes a sound")
        pass

class Dog(Animal):
    def speak(self):
        #print("Dog barks")
        pass

class Cat(Animal):
    def speak(self):
        #print("Cat meows")
        pass

# 다형성: 같은 메서드 호출이 다른 동작을 수행
animals = [Dog(), Cat(), Animal()]

for animal in animals:
    animal.speak() # 각각 다른 동작

# ============================================================================
# 덕 타이핑 (Duck Typing)
# ============================================================================
# "오리처럼 걷고 오리처럼 꽥꽥거리면 그것은 오리다"
# 같은 메서드를 가진 객체는 같은 타입으로 취급할 수 있다.

class Dog:
    def speak(self):
        #print("Dog barks")
        pass

class Cat:
    def speak(self):
        #print("Cat meows")
        pass

class Robot:
    def speak(self):
        #print("Robot beeps")
        pass

# speak() 메서드가 있으면 같은 타입으로 취급
def make_sound(thing):
    thing.speak()

make_sound(Dog()) # "Dog barks"
make_sound(Cat()) # "Cat meows"
make_sound(Robot()) # "Robot beeps"

# ============================================================================
# 연산자 오버로딩
# ============================================================================

class Point:
    def __init__(self, x, y):
        self.x = x
        self.y = y
    
    def __add__(self, other):
        """+ 연산자 오버로딩"""
        return Point(self.x + other.x, self.y + other.y)
    
    def __str__(self):
        return f"Point({self.x}, {self.y})"

p1 = Point(1, 2)
p2 = Point(3, 4)
p3 = p1 + p2 # __add__ 메서드 호출
#print(p3) # Point(4, 6)

# ============================================================================
# 일반적인 연산자 오버로딩 메서드
# ============================================================================
# | 연산자 | 메서드        | 설명              |
# |--------|-------------|------------------|
# | +      | __add__     | 덧셈              |
# | -      | __sub__     | 뺄셈              |
# | *      | __mul__     | 곱셈              |
# | /      | __truediv__ | 나눗셈            |
# | ==     | __eq__      | 같음 비교         |
# | !=     | __ne__      | 다름 비교         |
# | <      | __lt__      | 작음 비교         |
# | >      | __gt__      | 큼 비교           |
# | <=     | __le__      | 작거나 같음 비교   |
# | >=     | __ge__      | 크거나 같음 비교   |
# ============================================================================

# ============================================================================
# 주의사항
# ============================================================================
# 1. 다형성은 코드의 유연성과 재사용성을 높인다.
# 2. 덕 타이핑은 Python의 특징 중 하나이다.
# 3. 연산자 오버로딩을 적절히 사용하면 코드가 더 읽기 쉬워진다.
# ============================================================================
